@using ArabTradersGroup.Models
@model TeamViewModel
@{
    ViewBag.Title = "Team";
    ViewBag.Team = "MYACTIVE";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";

}


<!-- --------------------------------------------------- -->

<div class="col-md-offset-2 col-md-10 col-sm-offset-3 col-sm-9 col-xs-offset-3 col-xs-9 right-side">

    <div class="row">



        <!-- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -->

        <div class="product" style="min-height:580px;">
            <div class="col-xs-12 mytitle">
                <h2 class="text-left">
                    <a href="@Url.Action("Index","Dashboard",null)">@ArabTradersGroup.App_LocalResources.ATG.dashboard</a>
                    <span>/</span>
                    <a href="@Url.Action("Product","Dashboard",null)">@ArabTradersGroup.App_LocalResources.ATG.products</a>
                    <span>/</span>
                    <a href="@Url.Action("Vendor","Dashboard",null)">@ArabTradersGroup.App_LocalResources.ATG.vendor</a>
                    <span>/</span>
                    <a href="@Url.Action("Team","Dashboard",null)">@ArabTradersGroup.App_LocalResources.ATG.team</a>
                </h2>
                @if (Model.Emp_Error != null || !String.IsNullOrEmpty(Model.Emp_Error))
                {
                    <div class="alert alert-info alert-dismissable"><button class="close" data-dismiss="alert"><i class="fa fa-close"></i></button>@Html.DisplayFor(m => m.Emp_Error)</div>
                }
            </div>
            <div class="myDiv">



                <ul id="my-tabs2">
                    <li id="tab3" class="active"> @ArabTradersGroup.App_LocalResources.ATG.companyteam</li>
                    <li id="tab4" class="In-active"> @ArabTradersGroup.App_LocalResources.ATG.addteam </li>
                </ul>

                <!-- -------------------------------------------- -->
                <!-- start my-panel -->
                <div class="my-panel zz" id="tab3-content">

                    <div class="col-xs-12">

                        <div class="panel panel-default">

                            <div class="panel-heading">@ArabTradersGroup.App_LocalResources.ATG.teamlatest </div>

                            <div style="padding-top:10px; min-height:280px;" class="btn-block">

                                <div class="xpanel-body">

                                    <div class="table-responsive">

                                        <!-- Start Table -->
                                        <table class="table table-hover">

                                            <thead>
                                                <tr style="cursor:pointer">
                                                    <th class="hidden"></th>
                                                    <th>@ArabTradersGroup.App_LocalResources.ATG.teamfname</th>
                                                    <th>@ArabTradersGroup.App_LocalResources.ATG.teamlname</th>
                                                    <th>@ArabTradersGroup.App_LocalResources.ATG.teamphone</th>
                                                    <th>@ArabTradersGroup.App_LocalResources.ATG.teamemail</th>
                                                    <th>@ArabTradersGroup.App_LocalResources.ATG.teamcountry</th>
                                                    <th>@ArabTradersGroup.App_LocalResources.ATG.teamadd</th>
                                                    <th>@ArabTradersGroup.App_LocalResources.ATG.teamedit</th>
                                                    <th>@ArabTradersGroup.App_LocalResources.ATG.teamdelete</th>
                                                </tr>
                                            </thead>


                                            <!-- ------------------------------------------------------------------------------------------- -->

                                            <tbody>

                                                @foreach (var item in Model.Teams)
                                                {


                                                    <tr style="cursor:pointer">

                                                        <td class="hidden">@Html.DisplayFor(m => item.Emp_Id)</td>
                                                        <td>@Html.DisplayFor(m => item.Emp_Fname)</td>
                                                        <td>@Html.DisplayFor(m => item.Emp_Lname)</td>
                                                        <td>@Html.DisplayFor(m => item.Emp_Mobile)</td>
                                                        <td>@Html.DisplayFor(m => item.Emp_Email)</td>
                                                        <td>@Html.DisplayFor(m => item.Emp_Country)</td>
                                                        <td>
                                                            <a  data-placement="top" data-toggle="tooltip" title="" data-original-title="Add">
                                                                <button class="btn btn-primary btn-xs btnadd" data-title="Add">
                                                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                                                </button>
                                                            </a>
                                                        </td>
                                                        <td>
                                                            <a data-placement="top" data-toggle="tooltip" title="" data-original-title="Edit">
                                                                <button class="btn btn-success btn-xs btnedit" data-title="Edit">
                                                                    <i class="fa fa-pencil" aria-hidden="true"></i>
                                                                </button>
                                                            </a>
                                                        </td>
                                                        <td>
                                                            @using (Html.BeginForm("DeleteTeam", "Dashboard",new { Emp_Id=item.Emp_Id }, FormMethod.Post, new { role = "form", id = "DeleteTeamForm" }))
                                                            {
                                                                @Html.AntiForgeryToken()
                                                        <a data-placement="top" data-toggle="tooltip" title="" data-original-title="Delete">
                                                            <button type="submit" class="btn btn-danger btn-xs btndelete" data-title="Delete">
                                                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                                                            </button>
                                                        </a>

}
                                                        </td>

                                                    </tr>

                                                    <!-- --------------------------------------------------------------------------- -->





                                                }



                                            </tbody>



                                            <!-- -------------------------------------------------------------------------------------------- -->

                                        </table>
                                        <!-- End Table -->
                                    </div>
                                    <!-- /.table-responsive -->
                                </div>
                                <!-- End xpanel-body -->

                                <a href="#" class="btn btn-default btn-block btn-product">
                                    View All Employees
                                </a>
                            </div>
                            <!-- End btn-block -->

                        </div>
                        <!-- End panel -->

                    </div>
                    <!-- End col-xs-12 -->

                </div>
                <!-- End panel -->
                <!-- ------------------------------------------------------------------------------------- -->


                <div class="vendor-edit-content zz" id="tab4-content">


                    <div class="col-xs-offset-1 col-xs-10" id="addsection">

                        @using (Html.BeginForm("Team", "Dashboard", FormMethod.Post, new { role = "form", id = "InsertTeamForm" }))
                        {

                            @Html.AntiForgeryToken()
                            @Html.ValidationSummary("", new { @class = "text-danger" })

                            <div>
                                @Html.LabelFor(m => m.Emp_Fname, new { @class = "" })
                                @Html.TextBoxFor(m => m.Emp_Fname, new { @class = "form-control" })
                                @Html.ValidationMessageFor(m => m.Emp_Fname, "", new { @class = "text-danger" })


                            </div>

                            <div>
                                @Html.LabelFor(m => m.Emp_Lname, new { @class = "" })
                                @Html.TextBoxFor(m => m.Emp_Lname, new { @class = "form-control" })
                                @Html.ValidationMessageFor(m => m.Emp_Lname, "", new { @class = "text-danger" })


                            </div>

                            <div>
                                @Html.LabelFor(m => m.Emp_Mobile, new { @class = "" })
                                @Html.TextBoxFor(m => m.Emp_Mobile, new { @class = "form-control" })
                                @Html.ValidationMessageFor(m => m.Emp_Mobile, "", new { @class = "text-danger" })


                            </div>

                            <div>
                                @Html.LabelFor(m => m.Emp_Email, new { @class = "" })
                                @Html.TextBoxFor(m => m.Emp_Email, new { @class = "form-control" })
                                @Html.ValidationMessageFor(m => m.Emp_Email, "", new { @class = "text-danger" })


                            </div>


                            <div>
                                @Html.LabelFor(m => m.Emp_Country, new { @class = "" })
                                @Html.TextBoxFor(m => m.Emp_Country, new { @class = "form-control" })
                                @Html.ValidationMessageFor(m => m.Emp_Country, "", new { @class = "text-danger" })


                            </div>




                            <input class="btn btn-info" type="submit" value="@ArabTradersGroup.App_LocalResources.ATG.teambtnadd">




                        }
                    </div>
                    <!--col-xs-offset-1 col-xs-10 -->

                    <div class="col-xs-offset-1 col-xs-10 hidden" id="editsection">

                        @using (Html.BeginForm("EditTeam", "Dashboard", FormMethod.Post, new { role = "form", id = "EditTeamForm" }))
    {

                    <a href="#" id="addproduct"><button class="btn btn-info btnadd"><i class="fa fa-plus"></i> New Employee</button></a>

                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary("", new { @class = "text-danger" })


                    <div>

                        @Html.TextBoxFor(m => m.Emp_Id, new { @class = "form-control hidden" })



                    </div>
                    <div>
                        @Html.LabelFor(m => m.Emp_Fname, new { @class = "" })
                        @Html.TextBoxFor(m => m.Emp_Fname, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Emp_Fname, "", new { @class = "text-danger" })


                    </div>

                    <div>
                        @Html.LabelFor(m => m.Emp_Lname, new { @class = "" })
                        @Html.TextBoxFor(m => m.Emp_Lname, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Emp_Lname, "", new { @class = "text-danger" })


                    </div>

                    <div>
                        @Html.LabelFor(m => m.Emp_Mobile, new { @class = "" })
                        @Html.TextBoxFor(m => m.Emp_Mobile, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Emp_Mobile, "", new { @class = "text-danger" })


                    </div>

                    <div>
                        @Html.LabelFor(m => m.Emp_Email, new { @class = "" })
                        @Html.TextBoxFor(m => m.Emp_Email, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Emp_Email, "", new { @class = "text-danger" })


                    </div>


                    <div>
                        @Html.LabelFor(m => m.Emp_Country, new { @class = "" })
                        @Html.TextBoxFor(m => m.Emp_Country, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Emp_Country, "", new { @class = "text-danger" })


                    </div>




                    <input class="btn btn-success" type="submit" value="@ArabTradersGroup.App_LocalResources.ATG.teambtnsave">




}
                    </div>

                </div>
                <!-- End vendor-edit-content -->
                <!-- ----------------------------------------------------------- -->
            </div>
        </div>
        <!-- End Team -->


    </div>
    <!--  End product -->

</div>
<!-- End Row -->
<!-- End right-side -->
<!-- --------------------------------------------------- -->
@section scripts{
    @Scripts.Render("~/bundles/jqueryval")

<script>
    $(document).on("click", ".btnedit", function (e) {

        e.preventDefault();

        var _this = $(this);
        var _EmployeeId = _this.parent().parent().parent().find("td").eq(0).text();
        var _EmployeeFname = _this.parent().parent().parent().find("td").eq(1).text();
        var _EmployeeLname = _this.parent().parent().parent().find("td").eq(2).text();
        var _EmployeePhone = _this.parent().parent().parent().find("td").eq(3).text();
        var _EmployeeEmail = _this.parent().parent().parent().find("td").eq(4).text();
        var _EmployeeCountry = _this.parent().parent().parent().find("td").eq(5).text();



        $("#editsection #Emp_Fname").val(_EmployeeFname);
        $("#addsection #Emp_Fname").val("");
        $("#editsection #Emp_Lname").val(_EmployeeLname);
        $("#addsection #Emp_Lname").val("");
        $("#editsection #Emp_Mobile").val(_EmployeePhone);
        $("#addsection #Emp_Mobile").val("");
        $("#editsection #Emp_Email").val(_EmployeeEmail);
        $("#addsection #Emp_Email").val("");
        $("#editsection #Emp_Country").val(_EmployeeCountry);
        $("#addsection #Emp_Country").val("");
        $("#editsection #Emp_Id").val(_EmployeeId);
        $("#addsection #Emp_Id").val("");
        

        $("#addsection").addClass("hidden");
        $("#editsection").removeClass("hidden");



        $(".product .myDiv .zz:not(:first-of-type)").css({ display: "none" });


        $("#tab4").removeClass("In-active").siblings().addClass("In-active");

        $(".product #my-tabs2").next('div').hide();

        $("#tab4-content").fadeIn(400);







    });





    $(document).on("click", ".btnadd", function (e) {

        e.preventDefault();



        $("#editsection #Emp_Fname").val("");
        $("#addsection #Emp_Fname").val("");
        $("#editsection #Emp_Lname").val("");
        $("#addsection #Emp_Lname").val("");
        $("#editsection #Emp_Mobile").val("");
        $("#addsection #Emp_Mobile").val("");
        $("#editsection #Emp_Email").val("");
        $("#addsection #Emp_Email").val("");
        $("#editsection #Emp_Country").val("");
        $("#addsection #Emp_Country").val("");
        $("#editsection #Emp_Id").val("");
        $("#addsection #Emp_Id").val("");


        $("#addsection").removeClass("hidden");
        $("#editsection").addClass("hidden");



        $(".product .myDiv .zz:not(:first-of-type)").css({ display: "none" });


        $("#tab4").removeClass("In-active").siblings().addClass("In-active");

        $(".product #my-tabs2").next('div').hide();

        $("#tab4-content").fadeIn(400);


      




    });



    $(document).on("click", ".btndelete", function myfunction(e) {

        if (confirm("Are you sure you want to Delete this Employee")) {

            __doPostBack('btndelete');



        } else {



            return false;
        }
        ;



    })





</script>

}