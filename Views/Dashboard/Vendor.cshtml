@using ArabTradersGroup.Models
@model VendorViewModel
@{
    ViewBag.Title = "Vendor";
    ViewBag.Vendor = "MYACTIVE";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<!-- --------------------------------------------------- -->

<div class="col-md-offset-2 col-md-10 col-sm-offset-3 col-sm-9 col-xs-offset-3 col-xs-9 right-side">

    <div class="row">


            <!-- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -->

            <div class="product" style="min-height:580px;">
                <div class="col-xs-12 mytitle">
                    <h2 class="text-left">
                        <a href="@Url.Action("Index","Dashboard",null)">@ArabTradersGroup.App_LocalResources.ATG.dashboard</a>
                        <span>/</span>
                        <a href="@Url.Action("Product","Dashboard",null)">@ArabTradersGroup.App_LocalResources.ATG.products</a>
                        <span>/</span>
                        <a href="@Url.Action("Vendor","Dashboard",null)">@ArabTradersGroup.App_LocalResources.ATG.vendor</a>
                        <span>/</span>
                        <a href="@Url.Action("Team","Dashboard",null)">@ArabTradersGroup.App_LocalResources.ATG.team</a>
                    </h2>
                    @if (Model.Vendor_Error != null || !String.IsNullOrEmpty(Model.Vendor_Error))
    {
                <div class="alert alert-info alert-dismissable"><button class="close" data-dismiss="alert"><i class="fa fa-close"></i></button>@Html.DisplayFor(m => m.Vendor_Error)</div>
}
                </div>
                <div class="myDiv">

                

                    <ul id="my-tabs3">
                        <li id="tab4" class="active">@ArabTradersGroup.App_LocalResources.ATG.vendors </li>
                        <li id="tab5" class="In-active"> @ArabTradersGroup.App_LocalResources.ATG.newvendor </li>
                    </ul>

                    <!-- -------------------------------------------- -->
                    <!-- start my-panel -->
                    <div class="my-panel zz" id="tab4-content">

                        <div class="col-xs-12">

                            <div class="panel panel-default">

                                <div class="panel-heading">@ArabTradersGroup.App_LocalResources.ATG.lvendorsdata</div>

                                <div style="padding-top:10px;" class="btn-block">

                                    <div class="xpanel-body">

                                        <div class="table-responsive">

                                            <!-- Start Table -->
                                            <table class="table table-hover">

                                                <thead>
                                                    <tr style="cursor:pointer">
                                                        <th>@ArabTradersGroup.App_LocalResources.ATG.company</th>
                                                        <th>@ArabTradersGroup.App_LocalResources.ATG.vendormanager</th>
                                                        <th>@ArabTradersGroup.App_LocalResources.ATG.vendoremail</th>
                                                        <th>@ArabTradersGroup.App_LocalResources.ATG.vendorphone</th>
                                                        <th>@ArabTradersGroup.App_LocalResources.ATG.vendorcountry</th>
                                                        <th>@ArabTradersGroup.App_LocalResources.ATG.vendoradd</th>
                                                        <th>@ArabTradersGroup.App_LocalResources.ATG.vendoredit</th>
                                                        <th>@ArabTradersGroup.App_LocalResources.ATG.vendordelete</th>
                                                    </tr>
                                                </thead>


                                                <!-- ------------------------------------------------------------------------------------------- -->

                                                <tbody>

                                                    @foreach (var item in Model.Vendors)
                                        {

                                            <tr style="cursor:pointer">


                                                <td class="hidden">@Html.DisplayFor(m => item.Vendor_Id)</td>

                                                <td>@Html.DisplayFor(m => item.Vendor_Company)</td>
                                                <td>@Html.DisplayFor(m => item.Vendor_Manager)</td>
                                                <td>@Html.DisplayFor(m => item.Vendor_Email)</td>
                                                <td>@Html.DisplayFor(m => item.Vendor_Phone)</td>
                                                <td>@Html.DisplayFor(m => item.Vendor_Country)</td>


                                                <td>
                                                    <a href="" data-placement="top" data-toggle="tooltip" title="" data-original-title="Add">
                                                        <button class="btn btn-primary btn-xs btnadd" data-title="Add">
                                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                                        </button>
                                                    </a>
                                                </td>
                                                <td>
                                                    <a href="" data-placement="top" data-toggle="tooltip" title="" data-original-title="Edit">
                                                        <button class="btn btn-success btn-xs btnedit" data-title="Edit">
                                                            <i class="fa fa-pencil" aria-hidden="true"></i>
                                                        </button>
                                                    </a>
                                                </td>
                                                <td>

                                                    @using (Html.BeginForm("DeleteVendor", "Dashboard", new { Vendor_Id = item.Vendor_Id }, FormMethod.Post, new { id = "VendorForm", role = "form" }))
                                                    {
                                                        @Html.AntiForgeryToken()
                                                <a href="" data-placement="top" data-toggle="tooltip" title="" data-original-title="Delete">
                                                    <button class="btn btn-danger btn-xs btndelete" data-title="Delete">
                                                        <i class="fa fa-trash-o" aria-hidden="true"></i>
                                                    </button>
                                                </a>


                                                            }


                                                </td>

                                            </tr>




                            }


                                                </tbody>



                                                <!-- -------------------------------------------------------------------------------------------- -->

                                            </table>
                                            <!-- End Table -->
                                        </div>
                                        <!-- /.table-responsive -->
                                    </div>
                                    <!-- End xpanel-body -->
                                </div>
                                <!-- End btn-block -->

                            </div>
                            <!-- End panel -->

                        </div>
                        <!-- End col-xs-12 -->

                    </div>
                    <!-- End panel -->
                    <!-- ------------------------------------------------------------------------------------- -->
                    <div class="vendor-edit-content zz" id="tab5-content">


                        <div class="col-xs-offset-1 col-xs-10" id="addsection">

                            @using (Html.BeginForm("Vendor", "Dashboard", FormMethod.Post, new { id = "VendorForm", role = "form" }))
                {
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary("", new { @class = "text-danger" })

                    <div>
                        @Html.LabelFor(m => m.Vendor_Company, new { @class = "" })

                        @Html.TextBoxFor(m => m.Vendor_Company, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Vendor_Company, "", new { @class = "text-danger" })
                    </div>

                    <div>
                        @Html.LabelFor(m => m.Vendor_Phone, new { @class = "" })

                        @Html.TextBoxFor(m => m.Vendor_Phone, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Vendor_Phone, "", new { @class = "text-danger" })
                    </div>

                    <div>
                        @Html.LabelFor(m => m.Vendor_Email, new { @class = "" })

                        @Html.TextBoxFor(m => m.Vendor_Email, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Vendor_Email, "", new { @class = "text-danger" })
                    </div>

                    <div>
                        @Html.LabelFor(m => m.Vendor_Manager, new { @class = "" })

                        @Html.TextBoxFor(m => m.Vendor_Manager, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Vendor_Manager, "", new { @class = "text-danger" })
                    </div>

                    <div>
                        @Html.LabelFor(m => m.Vendor_Country, new { @class = "" })

                        @Html.TextBoxFor(m => m.Vendor_Country, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Vendor_Country, "", new { @class = "text-danger" })
                    </div>


                    <input class="btn btn-info" type="submit" value="@ArabTradersGroup.App_LocalResources.ATG.vendorbtnadd">


    }


                        </div>
                        <!--col-xs-offset-1 col-xs-10 -->

                        <div class="col-xs-offset-1 col-xs-10 hidden" id="editsection">

                            @using (Html.BeginForm("EditVendor", "Dashboard", FormMethod.Post, new { id = "VendorForm", role = "form" }))
                {

                    <a href="#" id="addproduct"><button class="btn btn-info btnadd"><i class="fa fa-plus"></i> New Vendor</button></a>

                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary("", new { @class = "text-danger" })



                                @Html.TextBoxFor(m=>m.Vendor_Id,new {@class="hidden" })
                    <div>
                        @Html.LabelFor(m => m.Vendor_Company, new { @class = "" })

                        @Html.TextBoxFor(m => m.Vendor_Company, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Vendor_Company, "", new { @class = "text-danger" })
                    </div>

                    <div>
                        @Html.LabelFor(m => m.Vendor_Phone, new { @class = "" })

                        @Html.TextBoxFor(m => m.Vendor_Phone, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Vendor_Phone, "", new { @class = "text-danger" })
                    </div>

                    <div>
                        @Html.LabelFor(m => m.Vendor_Email, new { @class = "" })

                        @Html.TextBoxFor(m => m.Vendor_Email, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Vendor_Email, "", new { @class = "text-danger" })
                    </div>

                    <div>
                        @Html.LabelFor(m => m.Vendor_Manager, new { @class = "" })

                        @Html.TextBoxFor(m => m.Vendor_Manager, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Vendor_Manager, "", new { @class = "text-danger" })
                    </div>

                    <div>
                        @Html.LabelFor(m => m.Vendor_Country, new { @class = "" })

                        @Html.TextBoxFor(m => m.Vendor_Country, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Vendor_Country, "", new { @class = "text-danger" })
                    </div>


                    <input class="btn btn-success" type="submit" value="@ArabTradersGroup.App_LocalResources.ATG.vendorbtnsave">


    }


                        </div>
                        <!--col-xs-offset-1 col-xs-10 -->


                    </div>


                    <!-- End vendor-edit-content -->
                    <!-- -------------------------------------------------------------------- -->
                </div>
            </div>
            <!-- End Team -->


       
        <!--  End product -->

    </div>
    <!-- End Row -->


</div>
<!-- End right-side -->
<!-- --------------------------------------------------- -->
@section scripts {
    @Scripts.Render("~/bundles/jqueryval")


<script>

   

    $(document).on("click", ".btnedit", function (e) {

        e.preventDefault();

        var _this = $(this);
        var _VendorCompany = _this.parent().parent().parent().find("td").eq(1).text();
        var _VendorId = _this.parent().parent().parent().find("td").eq(0).text();
        var _VendorManager = _this.parent().parent().parent().find("td").eq(2).text();
        var _VendorEmail = _this.parent().parent().parent().find("td").eq(3).text();
        var _VendorPhone = _this.parent().parent().parent().find("td").eq(4).text();
        var _VendorCountry = _this.parent().parent().parent().find("td").eq(5).text();



        $("#editsection #Vendor_Company").val(_VendorCompany);
        $("#addsection #Vendor_Company").val("");
        $("#editsection #Vendor_Manager").val(_VendorManager);
        $("#addsection #Vendor_Manager").val("");
        $("#editsection #Vendor_Phone").val(_VendorPhone);
        $("#addsection #Vendor_Phone").val("");

        $("#editsection #Vendor_Email").val(_VendorEmail);
        $("#addsection #Vendor_Email").val("");
        $("#editsection #Vendor_Country").val(_VendorCountry);
        $("#addsection #Vendor_Country").val("");

        $("#editsection #Vendor_Id").val(_VendorId);
        $("#addsection #Vendor_Id").val("");


        
        $("#addsection").addClass("hidden");
        $("#editsection").removeClass("hidden");


        $(".product .myDiv .zz:not(:first-of-type)").css({ display: "none" });

      

        $("#tab5").removeClass("In-active").siblings().addClass("In-active");

        $(".product #my-tabs3").next('div').hide();

        $("#tab5-content").fadeIn(400);
      

       

    });



    $(document).on("click", ".btnadd", function (e) {

        e.preventDefault();

        $("#editsection #Vendor_Company").val("");
        $("#addsection #Vendor_Company").val("");
        $("#editsection #Vendor_Manager").val("");
        $("#addsection #Vendor_Manager").val("");
        $("#editsection #Vendor_Phone").val("");
        $("#addsection #Vendor_Phone").val("");

        $("#editsection #Vendor_Email").val("");
        $("#addsection #Vendor_Email").val("");
        $("#editsection #Vendor_Country").val("");
        $("#addsection #Vendor_Country").val("");



        
        $("#addsection").removeClass("hidden");
        $("#editsection").addClass("hidden");


        $(".product .myDiv .zz:not(:first-of-type)").css({ display: "none" });



        $("#tab5").removeClass("In-active").siblings().addClass("In-active");

        $(".product #my-tabs3").next('div').hide();

        $("#tab5-content").fadeIn(400);
     
    });


    $(document).on("click", ".btndelete", function myfunction(e) {

        if (confirm("Are you sure you want to Delete this  Vendor")) {

            __doPostBack('btndelete');



        } else {



            return false;
        }
        ;



    })






</script>




    <style>
        .Team .vendor-edit-content, .vendor .vendor-edit-content {
            font-size: 14px;
        }
    </style>


}